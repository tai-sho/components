(window["wpshopify"] = window["wpshopify"] || []).push([[4],{

/***/ "./common/pricing/formatting.js":
/*!**************************************************!*\
  !*** ./common/pricing/formatting.js + 1 modules ***!
  \**************************************************/
/*! exports provided: formatPrice, formatPriceToCurrency */
/*! ModuleConcatenation bailout: Cannot concat with ./common/globals/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/pricing/currency.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/settings/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/has.js (<- Module is not an ECMAScript module) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("\n// EXTERNAL MODULE: ./node_modules/lodash/has.js\nvar has = __webpack_require__(\"./node_modules/lodash/has.js\");\nvar has_default = /*#__PURE__*/__webpack_require__.n(has);\n\n// EXTERNAL MODULE: ./common/settings/index.js\nvar settings = __webpack_require__(\"./common/settings/index.js\");\n\n// CONCATENATED MODULE: ./common/shop/index.js\nfunction shopActive() {\n  if (!WP_Shopify.shop) {\n    return false;\n  } else {\n    return true;\n  }\n}\n\nfunction getShop() {\n  return WP_Shopify.shop;\n}\n\nfunction setShop(shop) {\n  if (!shopActive()) {\n    WP_Shopify.shop = shop;\n  }\n}\n/*\n\nGets the Shop info\n\nclient: The Shopify instance\n\nReturns an immediately resolved promise if shop exists\n\n*/\n\n\nfunction getShopInfo(client) {\n  if (shopActive()) {\n    return new Promise(function (resolve, reject) {\n      return resolve(getShop());\n    });\n  }\n\n  return client.shop.fetchInfo();\n}\n\nfunction getMoneyFormat(shop) {\n  return shop.moneyFormat;\n}\n\n\n// EXTERNAL MODULE: ./common/pricing/currency.js + 2 modules\nvar currency = __webpack_require__(\"./common/pricing/currency.js\");\n\n// EXTERNAL MODULE: ./common/globals/index.js\nvar globals = __webpack_require__(\"./common/globals/index.js\");\n\n// CONCATENATED MODULE: ./common/pricing/formatting.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatPrice\", function() { return formatPrice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatPriceToCurrency\", function() { return formatPriceToCurrency; });\n\n\n\n\n\n\nfunction formatNumber(config) {\n  return new Intl.NumberFormat(config.locale, {\n    style: 'currency',\n    currency: config.countryCode,\n    currencyDisplay: config.currencyDisplay\n  }).format(config.amount);\n}\n/*\n\nlocale currently not used\n\nConfig: {\n  locale: 'en-US',\n  countryCode: 'US',\n  amount: 123,\n}\n\n*/\n\n\nfunction formatPrice(config) {\n  // Uses the browser locale by default\n  if (!has_default()(config, 'locale')) {\n    config.locale = false;\n  }\n\n  return formatNumber(config);\n}\n/*\n\n\"price\" should always be preformatted\n\n*/\n\n\nfunction formatPriceToCurrency(price, currencyCode) {\n  return formatPrice({\n    countryCode: currencyCode,\n    // getLocalCurrencyCodeCache()\n    amount: price,\n    currencyDisplay: Object(globals[\"currencyDisplayStyle\"])()\n  });\n}\n\n\n\n//# sourceURL=webpack://wpshopify/./common/pricing/formatting.js_+_1_modules?");

/***/ }),

/***/ "./components/cart/contents/index.jsx":
/*!********************************************************!*\
  !*** ./components/cart/contents/index.jsx + 3 modules ***!
  \********************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/animations/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/images/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/pricing/formatting.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/products/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/cart/_state/context.js */
/*! ModuleConcatenation bailout: Cannot concat with ./components/link/index.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/notice/index.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./components/shop/_state/context.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/lodash/find.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "react" (<- Module is not an ECMAScript module) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("\n// EXTERNAL MODULE: external \"react\"\nvar external_react_ = __webpack_require__(\"react\");\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./components/cart/_state/context.js\nvar context = __webpack_require__(\"./components/cart/_state/context.js\");\n\n// EXTERNAL MODULE: ./components/shop/_state/context.js\nvar _state_context = __webpack_require__(\"./components/shop/_state/context.js\");\n\n// EXTERNAL MODULE: ./components/link/index.jsx\nvar components_link = __webpack_require__(\"./components/link/index.jsx\");\n\n// EXTERNAL MODULE: ./node_modules/lodash/find.js\nvar find = __webpack_require__(\"./node_modules/lodash/find.js\");\nvar find_default = /*#__PURE__*/__webpack_require__.n(find);\n\n// EXTERNAL MODULE: ./common/products/index.js\nvar products = __webpack_require__(\"./common/products/index.js\");\n\n// EXTERNAL MODULE: ./common/animations/index.js + 1 modules\nvar animations = __webpack_require__(\"./common/animations/index.js\");\n\n// CONCATENATED MODULE: ./components/cart/lineitem/quantity/index.jsx\n\n\n\n\n\n\n // 1 is the previous value before decrementing _again_\n\nfunction isRemovingLineItem(quantity) {\n  return Number(quantity) === 0;\n}\n\nfunction getLineItemFromState(lineItem, lineItemsFromState) {\n  return find_default()(lineItemsFromState, {\n    variantId: lineItem.id\n  });\n}\n\nfunction CartLineItemQuantity(_ref) {\n  var lineItem = _ref.lineItem,\n      variantId = _ref.variantId,\n      lineItemQuantity = _ref.lineItemQuantity,\n      setLineItemQuantity = _ref.setLineItemQuantity,\n      isReady = _ref.isReady,\n      isFirstRender = _ref.isFirstRender,\n      setLineItemTotal = _ref.setLineItemTotal,\n      lineItemTotalElement = _ref.lineItemTotalElement;\n\n  var _useContext = Object(external_react_[\"useContext\"])(_state_context[\"ShopContext\"]),\n      _useContext2 = slicedToArray_default()(_useContext, 1),\n      shopState = _useContext2[0];\n\n  var _useContext3 = Object(external_react_[\"useContext\"])(context[\"CartContext\"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 2),\n      cartState = _useContext4[0],\n      cartDispatch = _useContext4[1];\n\n  var animePulse = Object(animations[\"useAnime\"])(animations[\"pulse\"]);\n\n  function changeQuantity(newQuantity) {\n    var lineItemFound = getLineItemFromState(lineItem, cartState.checkoutCache.lineItems);\n\n    if (lineItemFound && isFirstRender.current) {\n      variantId.current = lineItemFound.variantId;\n    }\n\n    animePulse(lineItemTotalElement.current);\n    setLineItemQuantity(newQuantity);\n    setLineItemTotal(Object(products[\"calcLineItemTotal\"])(newQuantity, lineItem.price));\n\n    if (isRemovingLineItem(newQuantity)) {\n      cartDispatch({\n        type: 'REMOVE_LINE_ITEM',\n        payload: {\n          lineItem: variantId.current,\n          checkoutId: shopState.checkoutId\n        }\n      });\n    }\n\n    cartDispatch({\n      type: 'UPDATE_LINE_ITEM_QUANTITY',\n      payload: {\n        lineItem: {\n          variantId: variantId.current,\n          lineItemNewQuantity: newQuantity\n        },\n        checkoutId: shopState.checkoutId\n      }\n    });\n  }\n\n  function handleQuantityChange(e) {\n    setLineItemQuantity(e.target.value);\n  }\n\n  function handleQuantityBlur(e) {\n    if (isRemovingLineItem(e.target.value)) {\n      cartDispatch({\n        type: 'REMOVE_LINE_ITEM',\n        payload: {\n          lineItem: variantId.current,\n          checkoutId: shopState.checkoutId\n        }\n      });\n    }\n\n    cartDispatch({\n      type: 'UPDATE_LINE_ITEM_QUANTITY',\n      payload: {\n        lineItem: {\n          variantId: variantId.current,\n          lineItemNewQuantity: Number(e.target.value)\n        },\n        checkoutId: shopState.checkoutId\n      }\n    });\n  }\n  /*\n   Responsible for: decrementing line item quantity\n   */\n\n\n  function handleDecrement() {\n    changeQuantity(lineItemQuantity - 1);\n  }\n  /*\n   Responsible for: incrementing line item quantity\n   */\n\n\n  function handleIncrement() {\n    changeQuantity(lineItemQuantity + 1);\n  }\n\n  return external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-quantity-container container-fluid\",\n    \"data-wps-is-ready\": isReady\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"row\"\n  }, external_react_default.a.createElement(\"button\", {\n    className: \"wps-quantity-decrement\",\n    type: \"button\",\n    onClick: handleDecrement\n  }, external_react_default.a.createElement(\"span\", {\n    className: \"wps-quantity-icon wps-quantity-decrement-icon\"\n  })), external_react_default.a.createElement(\"input\", {\n    className: \"wps-cart-lineitem-quantity\",\n    type: \"number\",\n    min: \"0\",\n    \"aria-label\": \"Quantity\",\n    value: lineItemQuantity,\n    onChange: handleQuantityChange,\n    onBlur: handleQuantityBlur\n  }), external_react_default.a.createElement(\"button\", {\n    className: \"wps-quantity-increment\",\n    type: \"button\",\n    onClick: handleIncrement\n  }, external_react_default.a.createElement(\"span\", {\n    className: \"wps-quantity-icon wps-quantity-increment-icon\"\n  }))));\n}\n\n\n// EXTERNAL MODULE: ./common/pricing/formatting.js + 1 modules\nvar formatting = __webpack_require__(\"./common/pricing/formatting.js\");\n\n// EXTERNAL MODULE: ./common/images/index.js\nvar common_images = __webpack_require__(\"./common/images/index.js\");\n\n// EXTERNAL MODULE: ./components/notice/index.jsx\nvar notice = __webpack_require__(\"./components/notice/index.jsx\");\n\n// CONCATENATED MODULE: ./components/cart/lineitem/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\nfunction lineitem_getLineItemFromState(lineItem, lineItemsFromState) {\n  return find_default()(lineItemsFromState, {\n    variantId: lineItem.id\n  });\n}\n\nfunction CartLineItem(_ref) {\n  var lineItem = _ref.lineItem,\n      index = _ref.index;\n\n  var _useContext = Object(external_react_[\"useContext\"])(context[\"CartContext\"]),\n      _useContext2 = slicedToArray_default()(_useContext, 2),\n      cartState = _useContext2[0],\n      cartDispatch = _useContext2[1];\n\n  var _useContext3 = Object(external_react_[\"useContext\"])(_state_context[\"ShopContext\"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 1),\n      shopState = _useContext4[0];\n\n  var _useState = Object(external_react_[\"useState\"])(false),\n      _useState2 = slicedToArray_default()(_useState, 1),\n      isUpdating = _useState2[0];\n\n  var _useState3 = Object(external_react_[\"useState\"])(0),\n      _useState4 = slicedToArray_default()(_useState3, 2),\n      lineItemQuantity = _useState4[0],\n      setLineItemQuantity = _useState4[1];\n\n  var _useState5 = Object(external_react_[\"useState\"])(0),\n      _useState6 = slicedToArray_default()(_useState5, 2),\n      lineItemTotal = _useState6[0],\n      setLineItemTotal = _useState6[1];\n\n  var variantId = Object(external_react_[\"useRef\"])(false);\n  var lineItemElement = Object(external_react_[\"useRef\"])();\n  var isFirstRender = Object(external_react_[\"useRef\"])(true);\n  var lineItemTotalElement = Object(external_react_[\"useRef\"])();\n\n  function removeLineItem(e) {\n    cartDispatch({\n      type: 'REMOVE_LINE_ITEM',\n      payload: {\n        lineItem: variantId.current,\n        checkoutId: shopState.checkoutId\n      }\n    });\n    cartDispatch({\n      type: 'UPDATE_LINE_ITEM_QUANTITY',\n      payload: {\n        lineItem: {\n          variantId: variantId.current,\n          lineItemNewQuantity: 0\n        },\n        checkoutId: shopState.checkoutId\n      }\n    });\n  }\n\n  Object(external_react_[\"useEffect\"])(function () {\n    var lineItemFound = lineitem_getLineItemFromState(lineItem, cartState.checkoutCache.lineItems);\n\n    if (lineItemFound) {\n      variantId.current = lineItemFound.variantId;\n      setLineItemQuantity(lineItemFound.quantity);\n      setLineItemTotal(Object(products[\"calcLineItemTotal\"])(lineItem.price, lineItemFound.quantity));\n    }\n  }, [cartState.checkoutCache.lineItems]);\n\n  function placeholderImageUrl() {\n    return WP_Shopify.pluginsDirURL + 'public/imgs/placeholder.png';\n  }\n\n  function actualImageUrl() {\n    return Object(common_images[\"addCustomSizingToImageUrl\"])({\n      src: lineItem.image.src,\n      width: 300,\n      height: 300,\n      crop: 'center'\n    });\n  }\n\n  function lineItemImage() {\n    return lineItem.image ? {\n      backgroundImage: \"url(\".concat(actualImageUrl(), \")\")\n    } : {\n      backgroundImage: \"url(\".concat(placeholderImageUrl(), \")\")\n    };\n  }\n\n  function hasRealVariant() {\n    return lineItem.title !== 'Default Title';\n  }\n\n  return external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem mr-0 ml-0 row\",\n    \"data-wps-is-updating\": isUpdating,\n    \"data-wps-is-available\": Object(products[\"isAvailable\"])(lineItem),\n    ref: lineItemElement\n  }, external_react_default.a.createElement(components_link[\"Link\"], {\n    payload: lineItem,\n    shop: shopState,\n    type: \"products\",\n    classNames: \"wps-cart-lineitem-img-link\",\n    target: \"_blank\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-img\",\n    style: lineItemImage(),\n    \"data-wps-is-ready\": cartState.isReady\n  })), external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-content\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-title col-12 p-0\",\n    \"data-wps-is-ready\": cartState.isReady,\n    \"data-wps-is-empty\": hasRealVariant() ? 'false' : 'true'\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"container-fluid p-0\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"row\"\n  }, external_react_default.a.createElement(\"span\", {\n    className: \"wps-cart-lineitem-title-content col-9\"\n  }, lineItem.productTitle), external_react_default.a.createElement(\"span\", {\n    className: \"wps-cart-lineitem-remove\",\n    onClick: removeLineItem\n  }, \"Remove\")))), hasRealVariant() && external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-variant-title badge badge-pill badge-dark col-12\",\n    \"data-wps-is-ready\": cartState.isReady\n  }, lineItem.title), !Object(products[\"isAvailable\"])(lineItem) ? external_react_default.a.createElement(notice[\"Notice\"], {\n    type: \"warning\",\n    message: \"Out of stock\"\n  }) : external_react_default.a.createElement(\"div\", {\n    className: \"container-fluid p-0\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"row\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"col-8\"\n  }, external_react_default.a.createElement(CartLineItemQuantity, {\n    lineItem: lineItem,\n    variantId: variantId,\n    lineItemQuantity: lineItemQuantity,\n    setLineItemQuantity: setLineItemQuantity,\n    isReady: cartState.isReady,\n    isFirstRender: isFirstRender,\n    setLineItemTotal: setLineItemTotal,\n    lineItemTotalElement: lineItemTotalElement\n  })), external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-price-total-wrapper\"\n  }, external_react_default.a.createElement(\"div\", {\n    className: \"wps-cart-lineitem-price wps-cart-lineitem-price-total\",\n    \"data-wps-is-ready\": cartState.isReady,\n    ref: lineItemTotalElement\n  }, cartState.isReady && Object(formatting[\"formatPriceToCurrency\"])(lineItemTotal, shopState.info.currencyCode)))))));\n}\n\n\n// CONCATENATED MODULE: ./components/cart/lineitems/index.jsx\n\n\n\nfunction CartLineItems(_ref) {\n  var lineItems = _ref.lineItems;\n  return external_react_default.a.createElement(external_react_default.a.Fragment, null, lineItems && lineItems.map(function (lineItem, index) {\n    return external_react_default.a.createElement(CartLineItem, {\n      key: lineItem.id,\n      lineItem: lineItem,\n      index: index\n    });\n  }));\n}\n\n\n// CONCATENATED MODULE: ./components/cart/contents/index.jsx\n\n\n\n\nfunction CartContents(props) {\n  return external_react_default.a.createElement(\"section\", {\n    className: \"wps-cart-contents\"\n  }, props.isCartEmpty ? external_react_default.a.createElement(notice[\"Notice\"], {\n    type: \"info\",\n    message: \"Your cart is empty \\uD83D\\uDED2\"\n  }) : external_react_default.a.createElement(CartLineItems, {\n    lineItems: props.checkoutCache.variants\n  }));\n}\n\n/* harmony default export */ var contents = __webpack_exports__[\"default\"] = (CartContents);\n\n//# sourceURL=webpack://wpshopify/./components/cart/contents/index.jsx_+_3_modules?");

/***/ })

}]);