(window.wpshopify=window.wpshopify||[]).push([[7],{333:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(0),s=a.n(c),o=a(19),i=a.n(o),u=a(56),m=a(6),l=a(8),p=s.a.createContext(),g=a(71),d=a(61),f=a(39),E=a(20);function O(e){var t=e.image,a=e.isFeatured,n=Object(c.useRef)(),o=Object(c.useContext)(l.a),i=r()(o,1)[0],O=Object(c.useContext)(m.a),y=r()(O,1)[0],j=Object(c.useContext)(u.a),h=r()(j,1)[0],w=Object(c.useContext)(p),I=r()(w,2),S=(I[0],I[1]),v=Object(c.useState)(P()),C=r()(v,2),T=C[0],x=C[1];function P(){return a?i.settings.productsImagesSizingToggle?Object(g.a)({src:t.src,width:i.settings.productsImagesSizingWidth,height:i.settings.productsImagesSizingHeight,crop:i.settings.productsImagesSizingCrop,scale:i.settings.productsImagesSizingScale}):t.src:i.settings.productsThumbnailImagesSizingToggle?Object(g.a)({src:t.src,width:i.settings.productsThumbnailImagesSizingWidth,height:i.settings.productsThumbnailImagesSizingHeight,crop:i.settings.productsThumbnailImagesSizingCrop,scale:i.settings.productsThumbnailImagesSizingScale}):t.src}return Object(c.useEffect)(function(){x(P()),a&&S({type:"SET_FEAT_IMAGE_ELEMENT",payload:n.current})},[t]),Object(f.b)()&&!Object(E.b)(y)&&a?T&&s.a.createElement(d.a,{payload:h.payload,type:"products",shop:i},s.a.createElement(b,{imageRef:n,image:t,productImageSrc:T,shopState:i})):T&&s.a.createElement(b,{imageRef:n,image:t,productImageSrc:T,shopState:i})}function b(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{ref:e.imageRef,itemProp:"image",src:e.productImageSrc,className:"wps-product-image",alt:e.image.altText,"data-wps-is-ready":e.shopState.isShopReady?"1":"0","data-zoom":e.image.src}))}function y(e){var t=e.image,a=Object(c.useContext)(l.a),n=r()(a,1)[0],o=Object(c.useContext)(p),i=r()(o,2),m=i[0],g=i[1],d=Object(c.useContext)(u.a),f=r()(d,1)[0],E=(Object(c.useRef)(!0),Object(c.useState)(!1)),b=r()(E,2),y=b[0],j=b[1];function h(e){return e===t.src}return Object(c.useEffect)(function(){j(h(m.featImage.src))},[m.featImage]),Object(c.useEffect)(function(){f.selectedVariant&&(g({type:"SET_FEAT_IMAGE",payload:f.selectedVariant.image}),j(h(f.selectedVariant.image.src)))},[f.selectedVariant]),s.a.createElement("div",{className:"wps-component wps-component-products-images-thumbnail",onClick:function(){g({type:"SET_FEAT_IMAGE",payload:t})},"data-wps-is-active":y,"data-wps-is-ready":n.isShopReady},s.a.createElement(O,{isFeatured:!1,image:t}))}var j=a(18),h=a.n(j),w=a(9),I=a.n(w);function S(){var e=Object(c.useContext)(u.a),t=r()(e,1)[0];return t.payload&&!I()(t.payload.images)&&s.a.createElement("div",{className:"wps-thumbnails-wrapper"},t.payload.images.map(function(e){return s.a.createElement(y,{key:h()(),image:e})}))}var v=a(319),C=a.n(v),T=a(322);function x(){var e=Object(c.useRef)(),t=Object(c.useRef)(!0),a=Object(c.useContext)(l.a),n=r()(a,1)[0],o=Object(c.useContext)(m.a),i=r()(o,1)[0],g=Object(c.useContext)(u.a),d=r()(g,1)[0],f=Object(c.useContext)(p),E=r()(f,1)[0],b=Object(c.useState)(E.featImage),y=r()(b,2),j=y[0],h=y[1];return Object(c.useEffect)(function(){t.current?t.current=!1:E.featImage&&h(E.featImage)},[E.featImage]),Object(c.useEffect)(function(){if(t.current)t.current=!1;else if(j&&E.featImageElement&&(C()(i.componentOptions.showZoom)?n.settings.productsImagesShowZoom:i.componentOptions.showZoom)){var a=new T.a(E.featImageElement,{paneContainer:e.current,inlineOffsetX:-80});return function(){!function(e){e.destroy(),window.Drift=null,e=null}(a)}}},[E.featImageElement]),Object(c.useEffect)(function(){d.selectedVariant&&h(d.selectedVariant.image)},[d.selectedVariant]),s.a.createElement("div",{className:"wps-gallery-featured-wrapper",ref:e},s.a.createElement("div",{className:"wps-product-image-wrapper"},j?s.a.createElement(O,{isFeatured:!0,image:j}):s.a.createElement(O,{isFeatured:!0,image:E.featImagePlaceholder})))}var P=a(15),F=a.n(P),z=a(11),_=a.n(z),R=a(3),A=a.n(R);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach(function(t){_()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function G(e,t){switch(t.type){case"SET_FEAT_IMAGE":return N({},e,{featImage:A()(e.featImage,{$set:t.payload})});case"SET_FEAT_IMAGE_ELEMENT":return N({},e,{featImageElement:A()(e.featImageElement,{$set:t.payload})});default:throw new Error("Unhandled action type: ".concat(t.type," in ProductGalleryReducer"))}}function V(e){var t,a=s.a.useReducer(G,{featImage:!(!(t=e.productState).payload||!t.payload.images)&&t.payload.images[0],featImageElement:!1,featImagePlaceholder:{src:"",alt:"WP Shopify Placeholder Image"}}),n=r()(a,2),c=n[0],o=n[1],i=s.a.useMemo(function(){return[c,o]},[c]);return s.a.createElement(p.Provider,F()({value:i},e))}function D(){var e=Object(c.useContext)(m.a),t=r()(e,1)[0],a=Object(c.useContext)(u.a),n=r()(a,1)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(V,{productState:n},i()(t.componentOptions,"showFeaturedOnly")&&t.componentOptions.showFeaturedOnly?s.a.createElement(x,null):n&&n.hasManyImages?s.a.createElement(s.a.Fragment,null,s.a.createElement(x,null),s.a.createElement(S,null)):s.a.createElement(x,null)))}var k=a(10),W=a(5);t.default=function(){var e=Object(c.useContext)(u.a),t=r()(e,1)[0],a=Object(c.useContext)(m.a),n=r()(a,1)[0];return Object(k.d)(s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wps-component wps-component-products-images","data-wps-component-order":"0"},s.a.createElement(D,null))),Object(W.e)(t.element,n.componentOptions.dropzoneProductGallery))}}}]);